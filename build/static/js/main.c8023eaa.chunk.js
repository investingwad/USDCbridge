(this["webpackJsonpusdc-stake"]=this["webpackJsonpusdc-stake"]||[]).push([[0],{357:function(e,t,n){},369:function(e,t){},392:function(e,t){},394:function(e,t){},471:function(e,t){},473:function(e,t){},505:function(e,t){},510:function(e,t){},512:function(e,t){},519:function(e,t){},532:function(e,t){},632:function(e,t){},727:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n(3),s=n.n(i),r=n(337),o=n.n(r),u=(n(357),n(1)),c=n.n(u),p=n(9),l=n(20),y=n(208),d=n(25),m=n(51),b="0xb151141C40146362356d65B3C7a587551f81c5B6",f=new y(y.givenProvider),h=m.b().shape({value:m.a().required("Enter value of token").test("lowAmount","Should be greater than 0",(function(e){return parseInt(e)>0})),token:m.c().required("Select a token type")}),v={value:"",token:"USDC"},j=new f.eth.Contract([{inputs:[{internalType:"uint256",name:"_initialAmount",type:"uint256"},{internalType:"string",name:"_tokenName",type:"string"},{internalType:"uint8",name:"_decimalUnits",type:"uint8"},{internalType:"string",name:"_tokenSymbol",type:"string"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"allocateTo",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],"0x0D9C8723B343A8368BebE0B5E89273fF8D712e3C"),x=new f.eth.Contract([{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"reason",type:"bytes"}],name:"Failure",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"reason",type:"bytes"}],name:"Receipt",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"reason",type:"bytes"}],name:"Refund",type:"event"},{inputs:[],name:"acceptTokenOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approvePoolBalance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"available_batch_id",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"available_message_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"",type:"uint64"}],name:"batches",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"bytes",name:"message",type:"bytes"},{internalType:"uint256",name:"block_num",type:"uint256"},{internalType:"bool",name:"received",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"changeLockByOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimGas",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"counter1",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"counter2",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"counter3",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"counter4",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"depositors",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"dsp_gas_used",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"executedMsg",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"batch_id",type:"uint64"}],name:"getBatch",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint256",name:"block_num",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"hasConfirmed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"inbound",outputs:[{internalType:"bytes",name:"message",type:"bytes"},{internalType:"uint256",name:"block_num",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint8",name:"_required",type:"uint8"},{internalType:"uint8",name:"_required_secure",type:"uint8"},{internalType:"address",name:"_token_contract",type:"address"},{internalType:"address",name:"_uniswapRouterContractAddress",type:"address"},{internalType:"uint256",name:"_max_withdrawal_period_amount",type:"uint256"},{internalType:"uint256",name:"_max_withdrawal_period",type:"uint256"},{internalType:"uint256",name:"_max_withdrawal_allowed",type:"uint256"},{internalType:"uint256",name:"_min_eth_required",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"last_incoming_batch_block_num",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"last_no_of_confirmed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"last_outgoing_batch_block_num",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"last_type_id",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"last_withdrawal_time",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"locked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"max_withdrawal_allowed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"max_withdrawal_period",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"max_withdrawal_period_amount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"min_eth_required",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"mint_tokens_enter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"mint_tokens_exist",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"required",type:"uint256"}],name:"modifyConsensus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"required",type:"uint256"}],name:"modifyConsensusByOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"next_incoming_batch_id",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"numOfConfirmed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"on_message_counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"outbound",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"bytes",name:"_message",type:"bytes"}],name:"pushInboundMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"push_inbound_counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"push_receipt_counter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"required_sigs",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"required_sigs_secure",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"sendEther",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"sendToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token_contract",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"total_period_withdrawal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"uniswapRouterContract",outputs:[{internalType:"contract UniswapV2Router02",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],b),w=function(){var e=Object(i.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(i.useState)(""),o=Object(l.a)(r,2),u=o[0],y=o[1],m=function(){var e=Object(p.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("connecting to metamask"),t=window,n=t.ethereum,console.log("ethereum ",n),"0x3"!==n.chainId){e.next=13;break}if(!n){e.next=11;break}return e.next=9,n.request({method:"eth_requestAccounts"});case 9:a=e.sent,s(a[0]);case 11:e.next=14;break;case 13:alert("Please select Ropsten test network then connect");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("something went wrong ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(c.a.mark((function e(t){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("values ",t),n){e.next=4;break}return alert("Please connect to metamask first"),e.abrupt("return");case 4:return a=t.value,e.next=7,f.eth.getGasPrice();case 7:i=e.sent,y(!0),j.methods.approve(b,parseInt(a)).send({from:n,gas:45e4,gasPrice:i}).on("transactionHash",(function(e){console.log("transactionHash approve ",e)})).on("receipt",(function(e){console.log("receipt approve",e)})).on("confirmation",(function(e,t){console.log("confirmationNumber approve",e),console.log("receipt approve",t)})).on("error",(function(e){console.log("error approve",e),y(!1)})).then((function(){x.methods.sendToken(parseInt(a)).send({from:n,gas:45e4,gasPrice:i}).on("transactionHash",(function(e){console.log("transactionHash  sendToken",e)})).on("receipt",(function(e){console.log("receipt sendToken",e),y(!1)})).on("confirmation",(function(e,t){console.log("confirmationNumber sendToken",e),console.log("receipt sendToken",t)})).on("error",(function(e){console.log("error sendToken",e),y(!1)}))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"form-container",children:[Object(a.jsx)("button",{onClick:m,children:n?"Connected":"Connect to metamask"}),Object(a.jsx)("div",{className:"tokenform",children:Object(a.jsx)(d.d,{initialValues:v,validationSchema:h,onSubmit:w,children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(d.b,{name:"value",placeholder:"enter amount"})}),Object(a.jsx)("div",{children:Object(a.jsx)(d.a,{name:"value"})}),Object(a.jsx)("div",{children:Object(a.jsx)(d.b,{as:"select",name:"token",children:Object(a.jsx)("option",{value:"USDC",children:"USDC"})})}),Object(a.jsx)("div",{children:Object(a.jsx)(d.a,{name:"token"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",className:"submit-btn",disabled:u,children:u?"Sending Token":"Send Token"})})]})})}),Object(a.jsx)("a",{href:"https://docs.google.com/document/u/1/d/14K6_DT-pqmBsAd3tLoHD-SKhPO1WCFW7unMKTMzxKx4/edit?usp=sharing",target:"_blank",children:"Click here for help"})]})},T=n(54),g=function(e){var t=e.children,n=e.show;return console.log("propssssss----",e),Object(a.jsx)(a.Fragment,{children:n?Object(a.jsx)("div",{className:"modalcontainer",children:t}):null})},O=n(6),k=n(8),_=n(342),M=n(343),S=n.n(M),N=n(344),C=n.n(N),q=new(function(){function e(){Object(O.a)(this,e),this.accessContext=Object(_.initAccessContext)({appName:"bridge_app",network:{protocol:"https",host:"api.kylin.alohaeos.com",port:443,chainId:"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"},walletProviders:[S()(),C()(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))]}),this.wallet=void 0}return Object(k.a)(e,[{key:"login",value:function(){var e=Object(p.a)(c.a.mark((function e(t){var n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.accessContext.getWalletProviders(),a=n[t],i=this.accessContext.initWallet(a),this.wallet=i,e.next=6,i.connect();case 6:return e.next=8,i.login();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getWallet",value:function(){return this.wallet}},{key:"disconnectWallet",value:function(){var e=Object(p.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.wallet){e.next=4;break}return e.next=3,this.wallet.terminate();case 3:this.wallet=void 0;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),B=i.useState,I=function(e){var t=e.closeModal,n=e.successModal,i=B(!1),s=Object(l.a)(i,2),r=s[0],o=s[1],u=B(-1),y=Object(l.a)(u,2),d=y[0],m=y[1],b=function(){var e=Object(p.a)(c.a.mark((function e(t){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(t),o(!0),e.next=5,q.login(t);case 5:localStorage.setItem("walletType",t.toString()),i=q.getWallet(),console.log("wallet11-----",i),n(null===i||void 0===i||null===(a=i.auth)||void 0===a?void 0:a.accountName),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("something went wrong ",e.t0);case 14:return e.prev=14,o(!1),m(-1),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[0,11,14,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{children:["Connect wallet",Object(a.jsx)("div",{className:"closeBtn",onClick:t,children:Object(a.jsx)("p",{className:"close-text",children:"close"})})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){return b(0)},disabled:r,children:r&&0===d?"connecting":"Connect with scatter"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){return b(1)},disabled:r,children:r&&1===d?"connecting":"Connect with Anchor"})})]})},E=n(349),A=n.n(E),P=n(724),W=A()({httpEndpoint:"https://api.kylin.alohaeos.com"}),F=m.b().shape({address:m.c().required("Enter ethereum address").test("ethereumaddress","Invalid ethereum address",(function(e){return P.isAddress(e)}))}),D={address:""},R=m.b().shape({value:m.a().required("Enter value of token"),token:m.c().required("Select a token type")}),J={value:"",token:"6,EUSDC"},U=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(i.useState)(!1),o=Object(l.a)(r,2),u=o[0],y=o[1],m=Object(i.useState)(""),b=Object(l.a)(m,2),f=b[0],h=b[1],v=Object(i.useState)([]),j=Object(l.a)(v,2),x=j[0],w=j[1],O=Object(i.useState)(["6,EUSDC"]),k=Object(l.a)(O,2),_=k[0],M=k[1],S=Object(i.useState)(!1),N=Object(l.a)(S,2),C=N[0],B=N[1],E=Object(i.useState)(!1),A=Object(l.a)(E,2),P=A[0],U=A[1],z=Object(i.useState)(""),H=Object(l.a)(z,2),K=H[0],L=H[1],V=Object(i.useState)(""),G=Object(l.a)(V,2),Y=G[0],Q=G[1],X=function(){var e=Object(p.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!1),s(!0),h(t),e.next=5,Z();case 5:if(!(n=e.sent).length){e.next=9;break}return e.next=9,$(n,t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(p.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,W.getTableRows({code:"etheosmultok",scope:"etheosmultok",table:"acceptedsym1",json:"true"});case 3:return(n=e.sent).rows.length&&n.rows.map((function(e){t.push(e.dtoken.toString())})),console.log("tokesn----",t),M(t),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(p.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.length){e.next=3;break}return e.delegateYield(c.a.mark((function e(){var a,i,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],console.log("username----",n),i=Object(T.a)(t),e.prev=3,r=c.a.mark((function e(){var t,i,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.value,i={code:"etheosmultok",json:!0,limit:1e3,scope:t.split(",")[1],table:"available",table_key:n},e.next=4,fetch("https://api.kylin.alohaeos.com/v1/chain/get_table_rows",{method:"post",body:JSON.stringify(i)});case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,console.log("respose----",o),o.rows.length&&o.rows.map((function(e){e.account==n&&a.push(o.rows[0].balance)}));case 10:case"end":return e.stop()}}),e)})),i.s();case 6:if((s=i.n()).done){e.next=10;break}return e.delegateYield(r(),"t0",8);case 8:e.next=6;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),i.e(e.t1);case 15:return e.prev=15,i.f(),e.finish(15);case 18:console.log("userbalance ---",a),w(a);case 20:case"end":return e.stop()}}),e,null,[[3,12,15,18]])}))(),"t0",3);case 3:e.next=8;break;case 5:e.prev=5,e.t1=e.catch(0),console.log("errr---",e.t1);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){Z();var e=function(){var e=Object(p.a)(c.a.mark((function e(t){var n,a,i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:return n=e.sent,e.next=6,q.login(t);case 6:if(a=q.getWallet(),console.log("wallet----",a),!a){e.next=14;break}if(h(null===a||void 0===a||null===(i=a.auth)||void 0===i?void 0:i.accountName),s(!0),!n.length){e.next=14;break}return e.next=14,$(n,null===a||void 0===a||null===(r=a.auth)||void 0===r?void 0:r.accountName);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("something went wrong ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),t=localStorage.getItem("walletType");if(t){var n=parseInt(t);n>=0&&e(n)}}),[]);var ee=function(){var e=Object(p.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=17;break}if(e.prev=1,!q.getWallet()){e.next=10;break}return e.next=6,q.disconnectWallet();case 6:localStorage.clear(),s(!1),w([]),h("");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("something went wrong ",e.t0);case 15:e.next=18;break;case 17:y(!0);case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(p.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,U(!0),1,!(n=q.getWallet())){e.next=17;break}return e.next=7,n.eosApi.transact({actions:[{account:"eosio.token",name:"transfer",authorization:[{actor:n.auth.accountName,permission:n.auth.permission}],data:{from:n.auth.accountName,to:"etheosmultok",quantity:"".concat(1..toFixed(4)," EOS"),memo:"registration fees"}}]},{broadcast:!0,blocksBehind:3,expireSeconds:60});case 7:if(!e.sent){e.next=15;break}return a=t.address,console.log("address----",a),e.next=13,n.eosApi.transact({actions:[{account:"etheosmultok",name:"registereth",authorization:[{actor:n.auth.accountName,permission:n.auth.permission}],data:{account:n.auth.accountName,ethaddress:a}}]},{broadcast:!0,blocksBehind:3,expireSeconds:60});case 13:e.sent&&(U(!1),Q("Transaction Success"),L(""));case 15:e.next=18;break;case 17:U(!1);case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),console.log("err----",e.t0),L(JSON.parse(JSON.parse(JSON.stringify(e.t0)).json.error.details[0].message).error.details[0].message.toString().split(":")[1]),U(!1);case 25:return e.prev=25,U(!1),e.finish(25);case 28:U(!0);case 29:case"end":return e.stop()}}),e,null,[[0,20,25,28]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(p.a)(c.a.mark((function e(t){var n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,B(!0),1,n=t.value,a=t.token,console.log("data---",t),!(i=q.getWallet())){e.next=13;break}return e.next=9,i.eosApi.transact({actions:[{account:"ddadlptoken1",name:"transfer",authorization:[{actor:i.auth.accountName,permission:i.auth.permission}],data:{from:i.auth.accountName,to:"etheosmultok",quantity:"".concat(parseInt(n).toFixed(parseInt(a.split(",")[0]))," ").concat(a.split(",")[1]," "),memo:"Transfer ".concat(a.split(",")[1]," token")}}]},{broadcast:!0,blocksBehind:3,expireSeconds:60});case 9:e.sent&&(B(!1),Q("Transaction Success"),L("")),e.next=14;break;case 13:B(!1);case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error in treansferinng----",JSON.parse(JSON.stringify(e.t0))),L(e.t0.message),B(!1);case 21:return e.prev=21,B(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,16,21,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"form-container",children:[Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("div",{children:f}),x.map((function(e){return Object(a.jsx)("div",{children:e})})),Object(a.jsx)("button",{className:"loginbtn",onClick:ee,children:n?"logout":"connect"})]}),Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("div",{className:"register",children:Object(a.jsx)(d.d,{initialValues:D,validationSchema:F,onSubmit:te,children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(d.b,{name:"address",placeholder:"enter ethereum address"})}),Object(a.jsx)("div",{children:Object(a.jsx)(d.a,{name:"address",className:"error"})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"note",children:"Note:- 1 EOS will be charged for registration fees."}),Object(a.jsx)("button",{type:"submit",className:"sendbtn",disabled:P||C,children:P?"registering":"Register"})]})]})})}),Object(a.jsx)("div",{className:"register",children:Object(a.jsx)(d.d,{initialValues:J,validationSchema:R,onSubmit:ne,children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(d.b,{name:"value",placeholder:"enter amount"})}),Object(a.jsx)("div",{children:Object(a.jsx)(d.a,{name:"value",className:"error"})}),Object(a.jsx)("div",{children:Object(a.jsx)(d.b,{as:"select",name:"token",children:_.map((function(e){return Object(a.jsx)("option",{name:"token",value:e,children:e.split(",")[1]})}))})}),Object(a.jsx)("div",{children:Object(a.jsx)(d.a,{name:"token",className:"error"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",className:"registerbtn",disabled:P||C,children:C?"Sending Token":"Send Token"})})]})})})]}),K?Object(a.jsx)("div",{className:"error",children:K}):Object(a.jsx)("div",{className:"success",children:Y}),u?Object(a.jsx)(g,{show:u,children:Object(a.jsx)(I,{closeModal:function(){y(!1)},successModal:X})}):null]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,734)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),s(e),r(e)}))};o.a.render(Object(a.jsxs)(s.a.StrictMode,{children:[Object(a.jsx)(w,{}),Object(a.jsx)(U,{})]}),document.getElementById("root")),z()}},[[727,1,2]]]);
//# sourceMappingURL=main.c8023eaa.chunk.js.map