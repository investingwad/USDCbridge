(this["webpackJsonpusdc-stake"]=this["webpackJsonpusdc-stake"]||[]).push([[0],{364:function(e,t,n){},389:function(e,t){},393:function(e,t){},395:function(e,t){},404:function(e,t){},406:function(e,t){},499:function(e,t){},614:function(e,t){},619:function(e,t){},621:function(e,t){},628:function(e,t){},641:function(e,t){},736:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),s=n.n(r),c=n(149),o=n.n(c),i=(n(364),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,743)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))}),u=n(1),l=n.n(u),d=n(7),p=n(14),b=n(25),h=n(6),m=n(9),j=n(346),f=n(347),x=n.n(f),v=n(348),O=n.n(v),y=new(function(){function e(){Object(h.a)(this,e),this.accessContext=Object(j.initAccessContext)({appName:"bridge_app",network:{protocol:"https",host:"node1.eosdsp.com",port:443,chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"},walletProviders:[x()(),O()(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))]}),this.wallet=void 0}return Object(m.a)(e,[{key:"login",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.accessContext.getWalletProviders(),a=n[t],r=this.accessContext.initWallet(a),this.wallet=r,e.next=6,r.connect();case 6:return e.next=8,r.login();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getWallet",value:function(){return this.wallet}},{key:"disconnectWallet",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.wallet){e.next=4;break}return e.next=3,this.wallet.terminate();case 3:this.wallet=void 0;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),g=function(e){return{type:"LOGIN",username:e.username}},k=n(218),w=n(22),S=n(37),T=[{inputs:[{internalType:"uint256",name:"_initialAmount",type:"uint256"},{internalType:"string",name:"_tokenName",type:"string"},{internalType:"uint8",name:"_decimalUnits",type:"uint8"},{internalType:"string",name:"_tokenSymbol",type:"string"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"allocateTo",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],N="0x151982ebf8fbbb8979167b64b729f5f5c43562db",C=new k(k.givenProvider),E=S.b().shape({value:S.a().required("Enter value of token").test("lowAmount","Should be greater than 0",(function(e){return parseFloat(e)>0})),token:S.c().required("Select a token type")}),A={value:"",token:"USDC"},I=new C.eth.Contract(T,"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"),M=new C.eth.Contract(T,"0x6b175474e89094c44da98b954eedeac495271d0f"),W=new C.eth.Contract([{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"reason",type:"bytes"}],name:"Failure",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"reason",type:"bytes"}],name:"Receipt",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes",name:"reason",type:"bytes"}],name:"Refund",type:"event"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"bytes",name:"_message",type:"bytes"}],name:"pushInboundMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive",payable:!0},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"sendToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimGas",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function",payable:!0}],N),D=function(){Object(b.c)((function(e){return e.user.walletConnected}));var e=Object(b.c)((function(e){return e.address.address})),t=(Object(b.c)((function(e){return e.address.ethWalletConnected})),Object(r.useState)("")),n=Object(p.a)(t,2),s=n[0],c=n[1],o=Object(r.useState)(!1),i=Object(p.a)(o,2),u=i[0],h=i[1],m=function(){var t=Object(d.a)(l.a.mark((function t(n,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("inside send token"),W.methods.sendToken(n,a).send({from:e}).on("transactionHash",(function(e){console.log("transactionHash  sendToken",e)})).on("receipt",(function(e){console.log("receipt sendToken",e),c(!1)})).on("confirmation",(function(e,t){console.log("confirmationNumber sendToken",e),console.log("receipt sendToken",t)})).on("error",(function(e){console.log("error sendToken",e),c(!1)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),j=function(){var t=Object(d.a)(l.a.mark((function t(n,a,r){var s,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("inside approve and send token"),c(!0),s="USDC"===r?I:M,o="",o=u?"USDC"===r?C.utils.toWei("10000000000000000","mwei"):C.utils.toWei("10000000000000000","ether"):n,console.log("approved amount ",o),s.methods.approve(N,o).send({from:e}).on("transactionHash",(function(e){console.log("transactionHash approve ",e)})).on("receipt",(function(e){console.log("receipt approve",e)})).on("confirmation",(function(e,t){console.log("confirmationNumber approve",e),console.log("receipt approve",t)})).on("error",(function(e){console.log("error approve",e),c(!1)})).then((function(){W.methods.sendToken(n,a).send({from:e}).on("transactionHash",(function(e){console.log("transactionHash  sendToken",e)})).on("receipt",(function(e){console.log("receipt sendToken",e),c(!1)})).on("confirmation",(function(e,t){console.log("confirmationNumber sendToken",e),console.log("receipt sendToken",t)})).on("error",(function(e){console.log("error sendToken",e),c(!1)}))}));case 7:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),f=function(){var t=Object(d.a)(l.a.mark((function t(n){var a,r,s,c,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("values ",n),e){t.next=4;break}return alert("Please connect to metamask first"),t.abrupt("return");case 4:return a=n.value,r=n.token,console.log("value ",a),s="USDC"===r?0:1,c="USDC"===r?I:M,o="USDC"===r?C.utils.toWei(a,"mwei"):C.utils.toWei(a,"ether"),console.log("stakeAMount ",o),t.next=12,c.methods.allowance(e,N).call();case 12:i=t.sent,console.log("approvedAmount in contract ",i),i>o?m(o,s):j(o,s,r);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return console.log("checked ",u),Object(a.jsxs)("div",{className:"form-container",children:[Object(a.jsx)("div",{children:"4. Send Tokens Ethereum to EOS"}),Object(a.jsx)("div",{className:"login",children:Object(a.jsx)("div",{className:"tokenform",children:Object(a.jsx)(w.d,{initialValues:A,validationSchema:E,onSubmit:f,children:Object(a.jsxs)(w.c,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(w.b,{name:"value",placeholder:"enter amount"})}),Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{name:"value"})}),Object(a.jsx)("div",{children:Object(a.jsxs)(w.b,{as:"select",name:"token",children:[Object(a.jsx)("option",{value:"USDC",children:"USDC"}),Object(a.jsx)("option",{value:"DAI",children:"DAI"})]})}),Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{name:"token"})}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"checkbox",checked:u,onChange:function(){return h(!u)},disabled:s}),Object(a.jsx)("span",{children:"Infinite Approval"})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",className:"submit-btn",disabled:s,children:s?"Sending Token":"Send Token"})})]})})})}),Object(a.jsx)("a",{href:"https://docs.google.com/document/u/1/d/14K6_DT-pqmBsAd3tLoHD-SKhPO1WCFW7unMKTMzxKx4/edit?usp=sharing",target:"_blank",rel:"noreferrer",children:"Click here for help"})]})},U=function(e){var t=e.children,n=e.show;return console.log("propssssss----",e),Object(a.jsx)(a.Fragment,{children:n?Object(a.jsx)("div",{className:"modalcontainer",children:t}):null})},L=r.useState,_=function(e){var t=e.closeModal,n=e.toggleLogin,r=Object(b.b)(),s=L(!1),c=Object(p.a)(s,2),o=c[0],i=c[1],u=L(-1),h=Object(p.a)(u,2),m=h[0],j=h[1],f=function(){var e=Object(d.a)(l.a.mark((function e(a){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(a),i(!0),e.next=5,y.login(a);case 5:c=y.getWallet(),r(g({username:null===c||void 0===c||null===(s=c.auth)||void 0===s?void 0:s.accountName})),n(!0),localStorage.setItem("walletType",a.toString()),console.log("wallet11-----",c),t(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("something went wrong ",e.t0);case 16:return e.prev=16,i(!1),j(-1),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[0,13,16,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{children:["Connect wallet",Object(a.jsx)("div",{className:"closeBtn",onClick:t,children:Object(a.jsx)("p",{className:"close-text",children:"close"})})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){return f(0)},disabled:o,children:o&&0===m?"connecting":"Connect with scatter"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){return f(1)},disabled:o,children:o&&1===m?"connecting":"Connect with Anchor"})})]})},F=n(159),q=n.n(F),B="accounts",H="acceptedsym",P="configset",G="feesettings",z="dadusdbridge",R="dadusdtokens",V="https://api.main.alohaeos.com",K=n(733),J=S.b().shape({newaddress:S.c().required("Enter new ethereum address").test("ethereumaddress","Invalid ethereum address",(function(e){return K.isAddress(e)}))}),Q={newaddress:""},X={httpEndpoint:V},Y=q()(X),Z=function(e){var t=Object(b.c)((function(e){return e.user.username})),n=Object(b.c)((function(e){return e.user.walletConnected})),s=Object(b.c)((function(e){return e.address.ethWalletConnected})),c=Object(b.b)(),o=Object(r.useState)(!1),i=Object(p.a)(o,2),u=i[0],h=i[1],m=Object(r.useState)(!1),j=Object(p.a)(m,2),f=j[0],x=j[1],v=Object(r.useState)(!1),O=Object(p.a)(v,2),g=O[0],k=O[1],T=Object(r.useState)(!1),N=Object(p.a)(T,2),C=N[0],E=N[1],A=Object(r.useState)(!1),I=Object(p.a)(A,2),M=I[0],W=I[1],D=Object(r.useState)(!1),L=Object(p.a)(D,2),F=L[0],q=L[1],B=Object(r.useState)(""),H=Object(p.a)(B,2),G=H[0],R=H[1],V=Object(r.useState)(""),X=Object(p.a)(V,2),Z=X[0],$=X[1],ee=Object(r.useState)(""),te=Object(p.a)(ee,2),ne=te[0],ae=te[1],re=Object(r.useState)(""),se=Object(p.a)(re,2),ce=se[0],oe=se[1],ie=Object(r.useState)(""),ue=Object(p.a)(ie,2),le=ue[0],de=ue[1],pe=Object(r.useState)(""),be=Object(p.a)(pe,2),he=be[0],me=be[1],je=Object(r.useState)(""),fe=Object(p.a)(je,2),xe=fe[0],ve=fe[1],Oe=Object(r.useState)("0.0000 EOS"),ye=Object(p.a)(Oe,2),ge=ye[0],ke=ye[1],we=S.b().shape({address:S.c().required("Enter ethereum address").test("ethereumaddress","Invalid ethereum address",(function(e){return K.isAddress(e)}))}),Se={address:xe};Object(r.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.getTableRows({code:z,scope:z,table:P,json:"true"});case 2:if(!(t=e.sent).rows.length){e.next=8;break}return e.next=6,t.rows[0].registrationfee;case 6:n=e.sent,ke(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var Te=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=16;break}if(t.prev=1,!y.getWallet()){t.next=9;break}return t.next=6,y.disconnectWallet();case 6:c({type:"LOGOUT"}),localStorage.clear(),e.toggleLogin(!1);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log("something went wrong ",t.t0);case 14:t.next=17;break;case 16:h(!0);case 17:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}(),Ne=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,1,a=y.getWallet(),r=t.address,n){e.next=8;break}R("Eos wallet is not connected"),e.next=21;break;case 8:if(s){e.next=12;break}R("Ethereum wallet is not connected"),e.next=21;break;case 12:if(!a){e.next=20;break}return x(!0),e.next=16,a.eosApi.transact({actions:[{account:"eosio.token",name:"transfer",authorization:[{actor:a.auth.accountName,permission:a.auth.permission}],data:{from:a.auth.accountName,to:z,quantity:ge,memo:"registration fees"}},{account:z,name:"registereth",authorization:[{actor:a.auth.accountName,permission:a.auth.permission}],data:{account:a.auth.accountName,ethaddress:r}}]},{broadcast:!0,blocksBehind:3,expireSeconds:60});case 16:e.sent&&(x(!1),me("Transaction Success"),R("")),e.next=21;break;case 20:x(!1);case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(0),console.log("err----",e.t0),R(e.t0.message),x(!1);case 28:return e.prev=28,x(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[0,23,28,31]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,1,a=y.getWallet(),r=t.newaddress,n){e.next=8;break}$("Eos wallet is not connected"),e.next=21;break;case 8:if(s){e.next=12;break}$("Ethereum wallet is not connected"),e.next=21;break;case 12:if(!a){e.next=20;break}return k(!0),e.next=16,a.eosApi.transact({actions:[{account:"eosio.token",name:"transfer",authorization:[{actor:a.auth.accountName,permission:a.auth.permission}],data:{from:a.auth.accountName,to:z,quantity:ge,memo:"modification fees"}},{account:z,name:"modethadress",authorization:[{actor:a.auth.accountName,permission:a.auth.permission}],data:{account:a.auth.accountName,newethaddress:r}}]},{broadcast:!0,blocksBehind:3,expireSeconds:60});case 16:e.sent&&(k(!1),ae("Transaction Success"),$("")),e.next=21;break;case 20:k(!1);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),$(e.t0.message),k(!1);case 27:return e.prev=27,k(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[0,23,27,30]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=y.getWallet(),console.log("wallet----hereee---",t),n){e.next=7;break}oe("Eos wallet is not connected"),e.next=18;break;case 7:if(s){e.next=11;break}oe("Ethereum wallet is not connected"),e.next=18;break;case 11:if(!t){e.next=18;break}return E(!0),e.next=15,t.eosApi.transact({actions:[{account:"dadusdbridge",name:"setgasprice",authorization:[{actor:t.auth.accountName,permission:t.auth.permission}],data:{}}]},{broadcast:!0,blocksBehind:3,expireSeconds:60});case 15:(a=e.sent)&&(E(!1),de("Transaction Success"),oe("")),console.log("result----",a);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.log("error---",e.t0),E(!1);case 24:return e.prev=24,E(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,20,24,27]])})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=y.getWallet(),console.log("wallet----hereee---",t),n){e.next=7;break}oe("Eos wallet is not connected"),e.next=18;break;case 7:if(s){e.next=11;break}oe("Ethereum wallet is not connected"),e.next=18;break;case 11:if(!t){e.next=18;break}return W(!0),e.next=15,t.eosApi.transact({actions:[{account:"dadusdbridge",name:"setethprice",authorization:[{actor:t.auth.accountName,permission:t.auth.permission}],data:{}}]},{broadcast:!0,blocksBehind:3,expireSeconds:60});case 15:a=e.sent,console.log("result----",a),a&&(W(!1),de("Transaction Success"),oe(""));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),W(!1);case 23:return e.prev=23,W(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,20,23,26]])})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=y.getWallet(),console.log("wallet----hereee---",t),n){e.next=7;break}oe("Eos wallet is not connected"),e.next=18;break;case 7:if(s){e.next=11;break}oe("Ethereum wallet is not connected"),e.next=18;break;case 11:if(!t){e.next=18;break}return q(!0),e.next=15,t.eosApi.transact({actions:[{account:"dadusdbridge",name:"seteosprice",authorization:[{actor:t.auth.accountName,permission:t.auth.permission}],data:{}}]},{broadcast:!0,blocksBehind:3,expireSeconds:60});case 15:a=e.sent,console.log("result----",a),a&&(q(!1),de("Transaction Success"),$(""));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),q(!1);case 23:return e.prev=23,q(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,20,23,26]])})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,n=t.ethereum,"0x1"!==n.chainId){e.next=12;break}if(!n){e.next=10;break}return e.next=7,n.request({method:"eth_requestAccounts"});case 7:a=e.sent,ve(a[0]),c({type:"ETHLOGIN",address:{address:a[0]}.address});case 10:e.next=13;break;case 12:alert("Please select Ethereum Main Network (Mainnet) then connect");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("something went wrong ",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"form-container",children:[Object(a.jsx)("div",{children:"1. Register Ethereum Address on EOS"}),Object(a.jsxs)("div",{className:"login",children:[Object(a.jsx)("button",{className:"loginbtn",onClick:Te,children:n?"Logout From ".concat(t):"Connect to Eos Wallet"}),Object(a.jsx)("button",{onClick:Me,children:xe?"Connected":"Connect to metamask"}),Object(a.jsx)("div",{className:"register",children:Object(a.jsx)(w.d,{initialValues:Se,validationSchema:we,onSubmit:Ne,children:function(e){var t=e.setFieldValue;return Object(a.jsxs)(w.c,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(w.b,{name:"address",placeholder:"enter ethereum address",onClick:function(){return t("address",xe)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{name:"address",className:"error"})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"note",children:["Note:- Current registration fee ",ge," will be deducted from your account."]}),Object(a.jsx)("button",{type:"submit",className:"sendbtn",disabled:f,children:f?"registering":"Register"})]})]})}})})]}),Object(a.jsx)("a",{href:"https://docs.google.com/document/d/1peh47G369IqMjHkA3FptsODB5kRNN0DBSc17GNvzX1Q/edit?usp=sharing",target:"_blank",rel:"noreferrer",children:"Click here for help"}),G?Object(a.jsx)("div",{className:"error",children:G}):Object(a.jsx)("div",{className:"success",children:he}),u?Object(a.jsx)(U,{show:u,children:Object(a.jsx)(_,{closeModal:function(){h(!1)},toggleLogin:e.toggleLogin})}):null]}),Object(a.jsxs)("div",{className:"form-container",children:[Object(a.jsx)("div",{children:"2. Update Prices (Ethereum Gas, EOS, ETH) "}),Object(a.jsx)("div",{className:"login",children:Object(a.jsxs)("div",{className:"register",children:[Object(a.jsx)("button",{className:"pricebtn",disabled:C,onClick:Ee,children:C?"updating":"Update GAS Price"}),Object(a.jsx)("button",{className:"pricebtn",disabled:M,onClick:Ae,children:M?"updating":"Update ETH Price"}),Object(a.jsx)("button",{className:"pricebtn",disabled:F,onClick:Ie,children:F?"updating":"Update EOS Price"})]})}),ce?Object(a.jsx)("div",{className:"error",children:ce}):Object(a.jsx)("div",{className:"success",children:le})]}),Object(a.jsxs)("div",{className:"form-container",children:[Object(a.jsx)("div",{children:"3. Modify Ethereum Address on EOS"}),Object(a.jsx)("div",{className:"login",children:Object(a.jsx)("div",{className:"register",children:Object(a.jsx)(w.d,{initialValues:Q,validationSchema:J,onSubmit:Ce,children:function(e){var t=e.setFieldValue;return Object(a.jsxs)(w.c,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(w.b,{name:"newaddress",placeholder:"enter new ethereum address",onClick:function(){return t("newaddress",xe)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{name:"newaddress",className:"error"})}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"note",children:["Note:- Current modification fee ",ge," will be deducted from your account."]}),Object(a.jsx)("button",{type:"submit",className:"sendbtn",disabled:g,children:g?"updating":"Update Address"})]})]})}})})}),Z?Object(a.jsx)("div",{className:"error",children:Z}):Object(a.jsx)("div",{className:"success",children:ne})]})]})},$=n(56),ee={httpEndpoint:V},te=q()(ee),ne=S.b().shape({value:S.a().required("Enter value of token").test("lowAmount","Should be greater than 0",(function(e){return parseInt(e)>0})),token:S.c().required("Select a token type")}),ae={value:"",token:"6,EUSDC"},re=function(e){var t=Object(b.c)((function(e){return e.user.username})),n=Object(b.c)((function(e){return e.user.walletConnected})),s=Object(b.c)((function(e){return e.address.ethWalletConnected})),c=Object(r.useState)([]),o=Object(p.a)(c,2),i=o[0],u=o[1],h=Object(r.useState)(["6,EUSDC"]),m=Object(p.a)(h,2),j=(m[0],m[1]),f=Object(r.useState)(!1),x=Object(p.a)(f,2),v=x[0],O=x[1],g=Object(r.useState)(""),k=Object(p.a)(g,2),S=k[0],T=k[1],N=Object(r.useState)(""),C=Object(p.a)(N,2),E=C[0],A=C[1],I=Object(r.useState)("0.0000 USDC"),M=Object(p.a)(I,2),W=M[0],D=M[1],U=Object(r.useState)("0.0000 DAI"),L=Object(p.a)(U,2),_=L[0],F=L[1],q=e.loggedIn,P=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,te.getTableRows({code:z,scope:z,table:H,json:"true"});case 3:return(n=e.sent).rows.length&&n.rows.map((function(e){t.push(e.dtoken.toString())})),j(t),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a,r,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],e.prev=1,!t.length){e.next=20;break}r=Object($.a)(t),e.prev=4,c=l.a.mark((function e(){var t,r,c,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.value,void 0,void 0,r={code:R,json:!0,limit:1e3,scope:n,table:B,table_key:n},e.next=7,fetch("https://api.main.alohaeos.com/v1/chain/get_table_rows",{method:"post",body:JSON.stringify(r)});case 7:return c=e.sent,e.next=10,c.json();case 10:(o=e.sent).rows.length&&(i=o.rows.find((function(e){return e.balance.split(" ")[1]==t.split(",")[1]})),a.push(i.balance));case 12:case"end":return e.stop()}}),e)})),r.s();case 7:if((s=r.n()).done){e.next=11;break}return e.delegateYield(c(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),r.e(e.t1);case 16:return e.prev=16,r.f(),e.finish(16);case 19:u(a);case 20:e.next=26;break;case 22:e.prev=22,e.t2=e.catch(1),console.log("errr---",e.t2),u(a);case 26:case"end":return e.stop()}}),e,null,[[1,22],[4,13,16,19]])})));return function(t,n){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.getTableRows({code:z,scope:"USDC",table:G,json:"true"});case 2:return t=e.sent,e.next=5,te.getTableRows({code:z,scope:"DAI",table:G,json:"true"});case 5:if(n=e.sent,!t.rows.length){e.next=11;break}return e.next=9,t.rows[0].minfeewithdraw;case 9:a=e.sent,D(a);case 11:if(!n.rows.length){e.next=16;break}return e.next=14,n.rows[0].minfeewithdraw;case 14:r=e.sent,F(r);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){P(),q&&function(){var e=Object(d.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:if(a=e.sent,!n||!a.length){e.next=6;break}return e.next=6,V(a,t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),q||u([])}),[q]);var K=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r,c,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=t.value,r=t.token,c=y.getWallet(),n){e.next=7;break}T("Eos wallet is not connected"),e.next=22;break;case 7:if(s){e.next=11;break}T("Ethereum wallet is not connected"),e.next=22;break;case 11:if(!c){e.next=21;break}return O(!0),o=R,i=z,e.next=17,c.eosApi.transact({actions:[{account:o,name:"transfer",authorization:[{actor:c.auth.accountName,permission:c.auth.permission}],data:{from:c.auth.accountName,to:i,quantity:"".concat(parseInt(a).toFixed(parseInt(r.split(",")[0]))," ").concat(r.split(",")[1]," "),memo:"Transfer ".concat(r.split(",")[1]," token")}}]},{broadcast:!0,blocksBehind:3,expireSeconds:60});case 17:e.sent&&(O(!1),A("Transaction Success"),T("")),e.next=22;break;case 21:O(!1);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),T(e.t0.message),O(!1);case 28:return e.prev=28,O(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[0,24,28,31]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"form-container",children:[Object(a.jsx)("div",{children:"5. Send Tokens EOS to Ethereum"}),Object(a.jsx)("div",{className:"login",children:Object(a.jsx)("div",{className:"register",children:Object(a.jsx)(w.d,{initialValues:ae,validationSchema:ne,onSubmit:K,children:Object(a.jsxs)(w.c,{children:[i.map((function(e){return Object(a.jsx)("div",{className:"userbalance",children:e})})),Object(a.jsx)("div",{children:Object(a.jsx)(w.b,{name:"value",placeholder:"enter amount"})}),Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{name:"value",className:"error"})}),Object(a.jsx)("div",{children:Object(a.jsxs)(w.b,{as:"select",name:"token",children:[Object(a.jsx)("option",{value:"6,USDC",children:"USDC"}),Object(a.jsx)("option",{value:"6,DAI",children:"DAI"})]})}),Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{name:"token",className:"error"})}),Object(a.jsxs)("div",{className:"notefee",children:["Note: Current withdraw fee is ",W," and ",_," set"]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",className:"registerbtn",disabled:v,children:v?"Sending Token":"Send Token"})})]})})})}),S?Object(a.jsx)("div",{className:"error",children:S}):Object(a.jsx)("div",{className:"success",children:E})]})},se=r.useEffect,ce=r.useState;var oe=function(){var e=ce(!1),t=Object(p.a)(e,2),n=t[0],r=t[1],s=function(e){r(e)},c=Object(b.b)();return se((function(){var e=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.login(t);case 3:(n=y.getWallet())&&(c(g({username:null===n||void 0===n||null===(a=n.auth)||void 0===a?void 0:a.accountName})),s(!0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),t=localStorage.getItem("walletType");if(t){var n=parseInt(t);n>=0&&e(n)}}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(Z,{toggleLogin:s}),Object(a.jsx)(D,{}),Object(a.jsx)(re,{loggedIn:n})]})},ie=n(131),ue=n(19),le={ethWalletConnected:!1,address:""},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ETHLOGIN":return Object(ue.a)(Object(ue.a)({},e),{},{ethWalletConnected:!0,address:t.address});default:return e}},pe={walletConnected:!1,username:""},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(ue.a)(Object(ue.a)({},e),{},{walletConnected:!0,username:t.username});case"LOGOUT":return Object(ue.a)(Object(ue.a)({},e),{},{walletConnected:!1,username:""});default:return e}},he=Object(ie.b)({user:be,address:de}),me=Object(ie.c)(he);o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(b.a,{store:me,children:Object(a.jsx)(oe,{})})}),document.getElementById("root")),i()}},[[736,1,2]]]);
//# sourceMappingURL=main.01bb98a1.chunk.js.map